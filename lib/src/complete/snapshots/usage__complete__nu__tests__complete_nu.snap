---
source: lib/src/complete/nu.rs
expression: "complete_nu(&CompleteOptions\n{\n    usage_bin: \"usage\".to_string(), shell: \"nu\".to_string(), bin:\n    \"mycli\".to_string(), cache_key: None, spec: None, usage_cmd:\n    Some(\"mycli complete --usage\".to_string()), include_bash_completion_lib:\n    false, source_file: None,\n})"
---
# @generated by usage-cli from usage spec
module _mycli_completions {
def mycli_completer [spans: list<string>] {
        let spec_file = $"($nu.temp-dir)/usage__usage_spec_mycli.spec"
        mycli complete --usage | collect | save -f $spec_file

        (usage complete-word -f $spec_file --shell nu -- ...$spans)
        | lines
        | each {|it| $it | split column "\t" | rename value description | into record }
    }

    @complete mycli_completer
    export extern mycli []
}

# if "usage" is not installed show an error
if (which usage | is-empty) {
    return (error make {
        msg: "Error: usage CLI not found. This is required for completions to work in mycli.",
        help: "See https://usage.jdx.dev for more information." 
    })
}
use _mycli_completions *
